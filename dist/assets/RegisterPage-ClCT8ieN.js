var k=Object.defineProperty;var I=(o,a,t)=>a in o?k(o,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[a]=t;var c=(o,a,t)=>I(o,typeof a!="symbol"?a+"":a,t);import{_ as R,r as n,c as U,a as f,b as l,w as g,f as p,e as E,j as V,n as C,t as q,g as A,i as O,o as w}from"./index-BPhHBPve.js";import{A as P}from"./auth.service-BpitatFE.js";import"./httpClient-DpjTLT7X.js";class b{static validate(a){return[this.TOURIST,this.AGENCY].includes(a)}}c(b,"TOURIST","tourist"),c(b,"AGENCY","agency");const Y={class:"register-container"},$={class:"register-box"},j={class:"role-selector"},B={key:0,class:"error"},z={class:"login"},D={__name:"RegisterPage",setup(o){const a=n(""),t=n(""),r=n(""),i=n(""),u=n(b.TOURIST),d=n(""),y=new P,T=O(),x=U(()=>a.value.trim()&&t.value.trim()&&r.value&&i.value&&r.value===i.value);async function N(){if(d.value="",r.value!==i.value){d.value="Las contraseñas no coinciden";return}try{await y.register({name:a.value,email:t.value,password:r.value,role:u.value}),alert("¡Cuenta creada! Ya puedes iniciar sesión."),T.push("/login")}catch(m){console.error(m),d.value="No se pudo crear la cuenta. Intenta de nuevo."}}return(m,e)=>{const v=V("pv-input-text"),S=V("pv-button");return w(),f("div",Y,[l("div",$,[e[15]||(e[15]=l("h2",null,"Únete a EcoTrip",-1)),e[16]||(e[16]=l("p",{class:"subtitle"},"Crea tu cuenta para comenzar",-1)),l("form",{onSubmit:g(N,["prevent"])},[e[9]||(e[9]=l("label",{for:"name"},"Nombre completo",-1)),p(v,{id:"name",modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=s=>a.value=s),class:"input",placeholder:"Tu nombre",required:""},null,8,["modelValue"]),e[10]||(e[10]=l("label",{for:"email"},"Email",-1)),p(v,{id:"email",modelValue:t.value,"onUpdate:modelValue":e[1]||(e[1]=s=>t.value=s),type:"email",class:"input",placeholder:"usuario@ejemplo.com",required:""},null,8,["modelValue"]),e[11]||(e[11]=l("label",{for:"password"},"Contraseña",-1)),p(v,{id:"password",modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=s=>r.value=s),type:"password",class:"input",placeholder:"••••••••",required:""},null,8,["modelValue"]),e[12]||(e[12]=l("label",{for:"confirm"},"Confirmar contraseña",-1)),p(v,{id:"confirm",modelValue:i.value,"onUpdate:modelValue":e[3]||(e[3]=s=>i.value=s),type:"password",class:"input",placeholder:"••••••••",required:""},null,8,["modelValue"]),e[13]||(e[13]=l("label",null,"Tipo de cuenta",-1)),l("div",j,[l("div",{class:C(["role-card",{active:u.value==="tourist"}]),onClick:e[4]||(e[4]=s=>u.value="tourist")},e[7]||(e[7]=[l("i",{class:"pi pi-user"},null,-1),l("h3",null,"Viajero",-1),l("p",null,"Descubre experiencias sostenibles",-1)]),2),l("div",{class:C(["role-card",{active:u.value==="agency"}]),onClick:e[5]||(e[5]=s=>u.value="agency")},e[8]||(e[8]=[l("i",{class:"pi pi-briefcase"},null,-1),l("h3",null,"Proveedor",-1),l("p",null,"Ofrece experiencias ecológicas",-1)]),2)]),d.value?(w(),f("p",B,q(d.value),1)):E("",!0),p(S,{label:"Crear cuenta",class:"register-button",type:"submit",disabled:!x.value},null,8,["disabled"])],32),l("p",z,[e[14]||(e[14]=A(" ¿Ya tienes cuenta? ")),l("a",{onClick:e[6]||(e[6]=g(s=>m.$router.push("/login"),["prevent"]))},"Inicia sesión")])]),e[17]||(e[17]=l("div",{class:"register-banner"},null,-1))])}}},H=R(D,[["__scopeId","data-v-5572b4ae"]]);export{H as default};
