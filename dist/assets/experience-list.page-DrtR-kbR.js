import{_,j as E,k as g,o as i,l as h,b as e,t as o,g as a,a as r,e as f,r as p,m as C,A as $,F as b,p as w,i as A}from"./index-BHEtbWzy.js";import{E as N}from"./experience.service-D4S5l8TK.js";import"./httpClient-Bnjko1En.js";const S=["src","alt"],B={class:"experience-content"},F={class:"experience-header"},L={class:"experience-title"},T={class:"experience-price"},V={class:"experience-location"},j={class:"experience-duration"},D={class:"experience-footer"},I={key:0,class:"eco-badge"},q={__name:"experience-card.component",props:{experience:{type:Object,required:!0}},setup(t){return(u,n)=>{const l=E("router-link");return i(),g(l,{to:"/experiences/"+t.experience.id,class:"experience-card"},{default:h(()=>[e("img",{src:t.experience.images[0],alt:t.experience.title.value,class:"experience-image"},null,8,S),e("div",B,[e("div",F,[e("h3",L,o(t.experience.title.value),1),e("span",T,o(t.experience.getFormattedPrice()),1)]),e("p",V,[n[0]||(n[0]=e("i",{class:"pi pi-map-marker"},null,-1)),a(" "+o(t.experience.getLocationText()),1)]),e("p",j,[n[1]||(n[1]=e("i",{class:"pi pi-clock"},null,-1)),a(" "+o(t.experience.getDurationText()),1)]),e("div",D,[t.experience.isEcoFriendly()?(i(),r("div",I,n[2]||(n[2]=[e("i",{class:"pi pi-leaf"},null,-1),a(" Eco-friendly ")]))):f("",!0)])])]),_:1},8,["to"])}}},M=_(q,[["__scopeId","data-v-c43e3a36"]]),O={class:"experience-list"},P={class:"header"},R={key:0,class:"loading-state"},z={key:1,class:"error-state"},G={key:2,class:"experiences-grid"},H={__name:"experience-list.page",setup(t){const u=A(),n=new N,l=p([]),d=p(!0),x=p(null),m=p(!1);C(async()=>{const c=$.fromStorage();m.value=(c==null?void 0:c.isAgency())??!1;try{d.value=!0,l.value=await n.getAllExperiences()}catch(s){console.error("Error loading experiences:",s),x.value=s.message}finally{d.value=!1}});function k(){u.push("/manage-experiences/create")}function y(c){u.push(`/experiences/${c}`)}return(c,s)=>(i(),r("div",O,[e("div",P,[s[1]||(s[1]=e("h1",null,"Experiencias",-1)),m.value?(i(),r("button",{key:0,onClick:k,class:"create-button"},s[0]||(s[0]=[e("i",{class:"pi pi-plus"},null,-1),a(" Nueva Experiencia ")]))):f("",!0)]),d.value?(i(),r("div",R,s[2]||(s[2]=[e("i",{class:"pi pi-spin pi-spinner"},null,-1),a(" Cargando experiencias... ")]))):x.value?(i(),r("div",z,[s[3]||(s[3]=e("i",{class:"pi pi-exclamation-triangle"},null,-1)),a(" "+o(x.value),1)])):(i(),r("div",G,[(i(!0),r(b,null,w(l.value,v=>(i(),g(M,{key:v.id,experience:v,onClick:J=>y(v.id)},null,8,["experience","onClick"]))),128))]))]))}},W=_(H,[["__scopeId","data-v-23d466e4"]]);export{W as default};
